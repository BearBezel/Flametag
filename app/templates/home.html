{% extends "base.html" %}
{% block content %}

<div class="hero">

  <!-- Logo -->
  <img
    src="{{ url_for('static', filename='img/logo.png') }}"
    alt="FlameTag"
    class="hero-logo"
  />

  <!-- Search -->
  <form id="codeForm" class="hero-search" autocomplete="off">
    <input
      id="codeInput"
      type="text"
      placeholder="Enter code (e.g. R329QRY8)"
      maxlength="32"
      required
    />

    <div class="hero-actions">
      <button class="btn primary" type="submit">View</button>
      <button class="btn secondary" type="button" id="scanBtn">Scan QR</button>
    </div>
  </form>

  <p class="example">
    Try an example: <span class="code">R329QRY8</span>
  </p>
</div>


<script>
  // View code
  document.getElementById("codeForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const raw = document.getElementById("codeInput").value || "";
    const token = raw.trim().replace(/\s+/g, "").toUpperCase();
    if (!token) return;
    window.location.href = "/l/" + token;
  });

  // Scan QR (mobile browsers only)
  const scanBtn = document.getElementById("scanBtn");
  if (scanBtn) {
    scanBtn.addEventListener("click", () => {
      alert("Use your phone camera to scan the FlameTag QR.");
    });
  }
</script>
<section class="how-it-works" id="how">
<h2 class="home-title">How it works</h2> 

  <div class="how-grid">
    <div class="how-card">
     <img src="{{ url_for('static', filename='img/qr.png') }}" alt="QR on product" class="how-icon" />
      <div class="how-text">FlameTag QR added to the product</div>
    </div>

    <div class="how-card">
     <img src="{{ url_for('static', filename='img/message.png') }}" alt="Public message" class="how-icon" /> 
      <div class="how-text">Scan to see the public message</div>
    </div>

    <div class="how-card">
      <img src="{{ url_for('static', filename='img/lock.png') }}" alt="Private message" class="how-icon" />
      <div class="how-text">Unlock the private message with a PIN</div>
    </div>
  </div>
</section>

{% endblock %}
